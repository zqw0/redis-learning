## 跳跃表  
**定义**：跳跃表是一种有序数据结构，它通过在每个节点中维持多个指向其他节点的指针，从而达到快速访问节点的目的。  
**跳跃表节点结构和表结构**：
```
struct zskiplistNode{
        struct zskiplistNode *backward;//后退指针
        double score;//分值
        robj *obj;//成员对象
        struct zskiplistLevel{
                struct zskiplistNode *forward;//前进指针
                unsigned int span;//跨度
        }level[];
};

struct zskiplist{
        zskiplistNode *head, *tail;//跳跃表的表头和表尾
        unsigned long length;//表中节点数量
        int level;//表中层数最大的节点的层数
};
```
**层**：跳跃表节点的level数组可以包含多个元素，每个元素都包含一个指向其他节点的指针，程序可以通过这些层来加快访问其他节点的速度，一般来说，层的数量越多，访问 其他节点的速度越快。    
每次创建一个新跳跃表节点的时候，程序都根据幂次定律，随机生成一个介于1和32之间的值作为level数组的大小，这个大小就是层的"高度"。    
**前进指针**：每个层都有一个指向表尾方向的前进指针，用于从表头向表尾方向访问节点。  
**跨度**：层的跨度（level[i].span属性）用于记录两个节点之间的距离。  
两个节点之间的跨度越大，他们相距得就越远。  
指向null的所有前进指针的跨度都为0，因为他们没有连向任何节点。    
**后退指针**：节点的后退指针用于从表尾向表头方向访问节点：跟可以一次跳过多个节点的前进指针不同，因为每个节点只有一个后退指针，所以每次只能后退至前一个节点。  
**分值和成员**：  
节点的分值是一个double类型的浮点数，跳跃表中的所有节点都被按分值从小到大来排序。      
节点的成员对象是一个指针，它指向一个字符串对象，而字符串对象则保存着一个sds值。    
在同一个跳跃表中，各个节点保存的成员对象必须是唯一的，但是多个节点保存的分值却可以相同，分值相同的节点按照成员对象在字典序中的大小来进行排序，成员对象较小的节点会排在前面（靠近表头），而成员对象较大的节点则会排在后面。  
**跳跃表的查找**：从最高的level层找起，找第一个大于target值的节点。然后level层减一，靠back指针，向后找第一个大于target值的节点。重复此过程。
**跳跃表api**：p45。

## 问什么要用跳表而不是B+树
1. 因为跳表理解简单不复杂
2. 写性能更好，不用做树的平衡翻转处理。

