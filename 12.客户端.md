## 服务器与客户端之间关系的简单介绍  
redis服务器是典型的一对多服务器程序：**一个服务器可以与多个客户端建立网络连接**。  
对于每个与服务器连接的客户端，服务器都为这些客户端建立了相应的redisClient结构（客户端状态），这个结构包含了客户端当前的状态信息。   
而redisServer结构体中包含一个clients属性，记录了当前连接这个服务器的客户端都有哪些。
```
struct redisServer{
        //...
        //一个链表，保存了所有客户端状态
        list *clients;
        //...
};
```
## 客户端属性  
客户端状态包含的**属性可以分为两类**    
（1）一类是比较通用的属性，这些属性很少与特定功能相关，无论客户端执行的是什么工作，他们都要用到这些属性。  
（2）另外一类是和特定功能相关的属性，比如操作数据库时需要用到的db属性和dictid属性，执行事务需要用到的mstate属性，以及执行WATCH命令时需要用到的watched_keys属性等。  
## 套接字描述符  
客户端状态fd属性记录了客户端正在使用的套接字描述符：
```
struct redisClient{
        //...
        int fd;
        //...
};
```
根据客户端类型的不同，fd属性的值**可以是-1或者是大于-1的整数**：  
（1）伪客户端的fd属性的值为-1。伪客户端处理命令请求来源于AOF文件或者lua脚本，而不是网络，所以这种客户端不需要套接字连接。**目前redis服务器会在两个地方用到伪客户端，一个用于载入AOF文件并还原数据库状态，而另一个则用于执行lua脚本中包含的redis命令**。   
（2）普通客户端的fd属性值大于-1。用fd属性来记录客户端套接字的描述符。  
## 名字  
在**默认情况下，一个连接到服务器的客户端是没有名字的**。  
比如下面展示的CLIENT list命令示例中，两个客户端的name域都是空白的：  
```
redis> CLIENT list
addr=127.0.0.1:53428 fd=6 name= age=1242.....
addr=127.0.0.1:53429 fd=7 name= age=122.....
```
使用**CLIENT setname**命令可以为客户端设置一个名字，让客户端身份变得更清晰。  
以下展示的是**客户端执行**CLINET setname命令之后的客户端列表。
```
redis> CLIENT list
addr=127.0.0.1:53428 fd=6 name=message age=1242.....
addr=127.0.0.1:53429 fd=7 name=page age=122.....
```
属性存放在哪里？
```
struct redisClient{
        //..
        robj *name;//指向一个前面讲过的字符串对象。
        //..
};
```
## 标志  
